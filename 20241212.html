<html><head><meta content="text/html; charset=utf-8" http-equiv="Content-Type"/><title>Gemini 2.0éœ‡æ’¼å‘å¸ƒé­é‡æ»‘é“å¢ï¼èƒ½å¦å‡»è´¥Claude3.5ï¼Ÿé€»è¾‘æ¨ç†åˆ°ç®—æ³•å®ç°çš„å…¨é¢æµ‹è¯•ï¼gemini-exp-1206+LlamaIndexå®ç°Text to SQLå¤šè¡¨è”åˆæŸ¥è¯¢ï¼å«å®Œæ•´æºç </title><style>
/* cspell:disable-file */
/* webkit printing magic: print all background colors */
html {
	-webkit-print-color-adjust: exact;
}
* {
	box-sizing: border-box;
	-webkit-print-color-adjust: exact;
}

html,
body {
	margin: 0;
	padding: 0;
}
@media only screen {
	body {
		margin: 2em auto;
		max-width: 900px;
		color: rgb(55, 53, 47);
	}
}

body {
	line-height: 1.5;
	white-space: pre-wrap;
}

a,
a.visited {
	color: inherit;
	text-decoration: underline;
}

.pdf-relative-link-path {
	font-size: 80%;
	color: #444;
}

h1,
h2,
h3 {
	letter-spacing: -0.01em;
	line-height: 1.2;
	font-weight: 600;
	margin-bottom: 0;
}

.page-title {
	font-size: 2.5rem;
	font-weight: 700;
	margin-top: 0;
	margin-bottom: 0.75em;
}

h1 {
	font-size: 1.875rem;
	margin-top: 1.875rem;
}

h2 {
	font-size: 1.5rem;
	margin-top: 1.5rem;
}

h3 {
	font-size: 1.25rem;
	margin-top: 1.25rem;
}

.source {
	border: 1px solid #ddd;
	border-radius: 3px;
	padding: 1.5em;
	word-break: break-all;
}

.callout {
	border-radius: 3px;
	padding: 1rem;
}

figure {
	margin: 1.25em 0;
	page-break-inside: avoid;
}

figcaption {
	opacity: 0.5;
	font-size: 85%;
	margin-top: 0.5em;
}

mark {
	background-color: transparent;
}

.indented {
	padding-left: 1.5em;
}

hr {
	background: transparent;
	display: block;
	width: 100%;
	height: 1px;
	visibility: visible;
	border: none;
	border-bottom: 1px solid rgba(55, 53, 47, 0.09);
}

img {
	max-width: 100%;
}

@media only print {
	img {
		max-height: 100vh;
		object-fit: contain;
	}
}

@page {
	margin: 1in;
}

.collection-content {
	font-size: 0.875rem;
}

.column-list {
	display: flex;
	justify-content: space-between;
}

.column {
	padding: 0 1em;
}

.column:first-child {
	padding-left: 0;
}

.column:last-child {
	padding-right: 0;
}

.table_of_contents-item {
	display: block;
	font-size: 0.875rem;
	line-height: 1.3;
	padding: 0.125rem;
}

.table_of_contents-indent-1 {
	margin-left: 1.5rem;
}

.table_of_contents-indent-2 {
	margin-left: 3rem;
}

.table_of_contents-indent-3 {
	margin-left: 4.5rem;
}

.table_of_contents-link {
	text-decoration: none;
	opacity: 0.7;
	border-bottom: 1px solid rgba(55, 53, 47, 0.18);
}

table,
th,
td {
	border: 1px solid rgba(55, 53, 47, 0.09);
	border-collapse: collapse;
}

table {
	border-left: none;
	border-right: none;
}

th,
td {
	font-weight: normal;
	padding: 0.25em 0.5em;
	line-height: 1.5;
	min-height: 1.5em;
	text-align: left;
}

th {
	color: rgba(55, 53, 47, 0.6);
}

ol,
ul {
	margin: 0;
	margin-block-start: 0.6em;
	margin-block-end: 0.6em;
}

li > ol:first-child,
li > ul:first-child {
	margin-block-start: 0.6em;
}

ul > li {
	list-style: disc;
}

ul.to-do-list {
	padding-inline-start: 0;
}

ul.to-do-list > li {
	list-style: none;
}

.to-do-children-checked {
	text-decoration: line-through;
	opacity: 0.375;
}

ul.toggle > li {
	list-style: none;
}

ul {
	padding-inline-start: 1.7em;
}

ul > li {
	padding-left: 0.1em;
}

ol {
	padding-inline-start: 1.6em;
}

ol > li {
	padding-left: 0.2em;
}

.mono ol {
	padding-inline-start: 2em;
}

.mono ol > li {
	text-indent: -0.4em;
}

.toggle {
	padding-inline-start: 0em;
	list-style-type: none;
}

/* Indent toggle children */
.toggle > li > details {
	padding-left: 1.7em;
}

.toggle > li > details > summary {
	margin-left: -1.1em;
}

.selected-value {
	display: inline-block;
	padding: 0 0.5em;
	background: rgba(206, 205, 202, 0.5);
	border-radius: 3px;
	margin-right: 0.5em;
	margin-top: 0.3em;
	margin-bottom: 0.3em;
	white-space: nowrap;
}

.collection-title {
	display: inline-block;
	margin-right: 1em;
}

.page-description {
    margin-bottom: 2em;
}

.simple-table {
	margin-top: 1em;
	font-size: 0.875rem;
	empty-cells: show;
}
.simple-table td {
	height: 29px;
	min-width: 120px;
}

.simple-table th {
	height: 29px;
	min-width: 120px;
}

.simple-table-header-color {
	background: rgb(247, 246, 243);
	color: black;
}
.simple-table-header {
	font-weight: 500;
}

time {
	opacity: 0.5;
}

.icon {
	display: inline-block;
	max-width: 1.2em;
	max-height: 1.2em;
	text-decoration: none;
	vertical-align: text-bottom;
	margin-right: 0.5em;
}

img.icon {
	border-radius: 3px;
}

.user-icon {
	width: 1.5em;
	height: 1.5em;
	border-radius: 100%;
	margin-right: 0.5rem;
}

.user-icon-inner {
	font-size: 0.8em;
}

.text-icon {
	border: 1px solid #000;
	text-align: center;
}

.page-cover-image {
	display: block;
	object-fit: cover;
	width: 100%;
	max-height: 30vh;
}

.page-header-icon {
	font-size: 3rem;
	margin-bottom: 1rem;
}

.page-header-icon-with-cover {
	margin-top: -0.72em;
	margin-left: 0.07em;
}

.page-header-icon img {
	border-radius: 3px;
}

.link-to-page {
	margin: 1em 0;
	padding: 0;
	border: none;
	font-weight: 500;
}

p > .user {
	opacity: 0.5;
}

td > .user,
td > time {
	white-space: nowrap;
}

input[type="checkbox"] {
	transform: scale(1.5);
	margin-right: 0.6em;
	vertical-align: middle;
}

p {
	margin-top: 0.5em;
	margin-bottom: 0.5em;
}

.image {
	border: none;
	margin: 1.5em 0;
	padding: 0;
	border-radius: 0;
	text-align: center;
}

.code,
code {
	background: rgba(135, 131, 120, 0.15);
	border-radius: 3px;
	padding: 0.2em 0.4em;
	border-radius: 3px;
	font-size: 85%;
	tab-size: 2;
}

code {
	color: #eb5757;
}

.code {
	padding: 1.5em 1em;
}

.code-wrap {
	white-space: pre-wrap;
	word-break: break-all;
}

.code > code {
	background: none;
	padding: 0;
	font-size: 100%;
	color: inherit;
}

blockquote {
	font-size: 1.25em;
	margin: 1em 0;
	padding-left: 1em;
	border-left: 3px solid rgb(55, 53, 47);
}

.bookmark {
	text-decoration: none;
	max-height: 8em;
	padding: 0;
	display: flex;
	width: 100%;
	align-items: stretch;
}

.bookmark-title {
	font-size: 0.85em;
	overflow: hidden;
	text-overflow: ellipsis;
	height: 1.75em;
	white-space: nowrap;
}

.bookmark-text {
	display: flex;
	flex-direction: column;
}

.bookmark-info {
	flex: 4 1 180px;
	padding: 12px 14px 14px;
	display: flex;
	flex-direction: column;
	justify-content: space-between;
}

.bookmark-image {
	width: 33%;
	flex: 1 1 180px;
	display: block;
	position: relative;
	object-fit: cover;
	border-radius: 1px;
}

.bookmark-description {
	color: rgba(55, 53, 47, 0.6);
	font-size: 0.75em;
	overflow: hidden;
	max-height: 4.5em;
	word-break: break-word;
}

.bookmark-href {
	font-size: 0.75em;
	margin-top: 0.25em;
}

.sans { font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol"; }
.code { font-family: "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace; }
.serif { font-family: Lyon-Text, Georgia, ui-serif, serif; }
.mono { font-family: iawriter-mono, Nitti, Menlo, Courier, monospace; }
.pdf .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK JP'; }
.pdf:lang(zh-CN) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK SC'; }
.pdf:lang(zh-TW) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK TC'; }
.pdf:lang(ko-KR) .sans { font-family: Inter, ui-sans-serif, -apple-system, BlinkMacSystemFont, "Segoe UI Variable Display", "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol", 'Twemoji', 'Noto Color Emoji', 'Noto Sans CJK KR'; }
.pdf .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .code { font-family: Source Code Pro, "SFMono-Regular", Menlo, Consolas, "PT Mono", "Liberation Mono", Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.pdf .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK JP'; }
.pdf:lang(zh-CN) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK SC'; }
.pdf:lang(zh-TW) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK TC'; }
.pdf:lang(ko-KR) .serif { font-family: PT Serif, Lyon-Text, Georgia, ui-serif, serif, 'Twemoji', 'Noto Color Emoji', 'Noto Serif CJK KR'; }
.pdf .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK JP'; }
.pdf:lang(zh-CN) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK SC'; }
.pdf:lang(zh-TW) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK TC'; }
.pdf:lang(ko-KR) .mono { font-family: PT Mono, iawriter-mono, Nitti, Menlo, Courier, monospace, 'Twemoji', 'Noto Color Emoji', 'Noto Sans Mono CJK KR'; }
.highlight-default {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.highlight-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.highlight-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.highlight-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.highlight-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.highlight-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.highlight-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.highlight-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.highlight-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.highlight-default_background {
	color: rgba(55, 53, 47, 1);
}
.highlight-gray_background {
	background: rgba(241, 241, 239, 1);
}
.highlight-brown_background {
	background: rgba(244, 238, 238, 1);
}
.highlight-orange_background {
	background: rgba(251, 236, 221, 1);
}
.highlight-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.highlight-teal_background {
	background: rgba(237, 243, 236, 1);
}
.highlight-blue_background {
	background: rgba(231, 243, 248, 1);
}
.highlight-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.highlight-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.highlight-red_background {
	background: rgba(253, 235, 236, 1);
}
.block-color-default {
	color: inherit;
	fill: inherit;
}
.block-color-gray {
	color: rgba(120, 119, 116, 1);
	fill: rgba(120, 119, 116, 1);
}
.block-color-brown {
	color: rgba(159, 107, 83, 1);
	fill: rgba(159, 107, 83, 1);
}
.block-color-orange {
	color: rgba(217, 115, 13, 1);
	fill: rgba(217, 115, 13, 1);
}
.block-color-yellow {
	color: rgba(203, 145, 47, 1);
	fill: rgba(203, 145, 47, 1);
}
.block-color-teal {
	color: rgba(68, 131, 97, 1);
	fill: rgba(68, 131, 97, 1);
}
.block-color-blue {
	color: rgba(51, 126, 169, 1);
	fill: rgba(51, 126, 169, 1);
}
.block-color-purple {
	color: rgba(144, 101, 176, 1);
	fill: rgba(144, 101, 176, 1);
}
.block-color-pink {
	color: rgba(193, 76, 138, 1);
	fill: rgba(193, 76, 138, 1);
}
.block-color-red {
	color: rgba(212, 76, 71, 1);
	fill: rgba(212, 76, 71, 1);
}
.block-color-default_background {
	color: inherit;
	fill: inherit;
}
.block-color-gray_background {
	background: rgba(241, 241, 239, 1);
}
.block-color-brown_background {
	background: rgba(244, 238, 238, 1);
}
.block-color-orange_background {
	background: rgba(251, 236, 221, 1);
}
.block-color-yellow_background {
	background: rgba(251, 243, 219, 1);
}
.block-color-teal_background {
	background: rgba(237, 243, 236, 1);
}
.block-color-blue_background {
	background: rgba(231, 243, 248, 1);
}
.block-color-purple_background {
	background: rgba(244, 240, 247, 0.8);
}
.block-color-pink_background {
	background: rgba(249, 238, 243, 0.8);
}
.block-color-red_background {
	background: rgba(253, 235, 236, 1);
}
.select-value-color-uiBlue { background-color: rgba(35, 131, 226, .07); }
.select-value-color-pink { background-color: rgba(245, 224, 233, 1); }
.select-value-color-purple { background-color: rgba(232, 222, 238, 1); }
.select-value-color-green { background-color: rgba(219, 237, 219, 1); }
.select-value-color-gray { background-color: rgba(227, 226, 224, 1); }
.select-value-color-transparentGray { background-color: rgba(227, 226, 224, 0); }
.select-value-color-translucentGray { background-color: rgba(0, 0, 0, 0.06); }
.select-value-color-orange { background-color: rgba(250, 222, 201, 1); }
.select-value-color-brown { background-color: rgba(238, 224, 218, 1); }
.select-value-color-red { background-color: rgba(255, 226, 221, 1); }
.select-value-color-yellow { background-color: rgba(253, 236, 200, 1); }
.select-value-color-blue { background-color: rgba(211, 229, 239, 1); }
.select-value-color-pageGlass { background-color: undefined; }
.select-value-color-washGlass { background-color: undefined; }

.checkbox {
	display: inline-flex;
	vertical-align: text-bottom;
	width: 16;
	height: 16;
	background-size: 16px;
	margin-left: 2px;
	margin-right: 5px;
}

.checkbox-on {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20width%3D%2216%22%20height%3D%2216%22%20fill%3D%22%2358A9D7%22%2F%3E%0A%3Cpath%20d%3D%22M6.71429%2012.2852L14%204.9995L12.7143%203.71436L6.71429%209.71378L3.28571%206.2831L2%207.57092L6.71429%2012.2852Z%22%20fill%3D%22white%22%2F%3E%0A%3C%2Fsvg%3E");
}

.checkbox-off {
	background-image: url("data:image/svg+xml;charset=UTF-8,%3Csvg%20width%3D%2216%22%20height%3D%2216%22%20viewBox%3D%220%200%2016%2016%22%20fill%3D%22none%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%3Crect%20x%3D%220.75%22%20y%3D%220.75%22%20width%3D%2214.5%22%20height%3D%2214.5%22%20fill%3D%22white%22%20stroke%3D%22%2336352F%22%20stroke-width%3D%221.5%22%2F%3E%0A%3C%2Fsvg%3E");
}
	
</style></head><body><article class="page sans" id="15a3b313-aef4-8079-a71a-ec600ba131d2"><header><h1 class="page-title">Gemini 2.0éœ‡æ’¼å‘å¸ƒé­é‡æ»‘é“å¢ï¼èƒ½å¦å‡»è´¥Claude3.5ï¼Ÿé€»è¾‘æ¨ç†åˆ°ç®—æ³•å®ç°çš„å…¨é¢æµ‹è¯•ï¼gemini-exp-1206+LlamaIndexå®ç°Text to SQLå¤šè¡¨è”åˆæŸ¥è¯¢ï¼å«å®Œæ•´æºç </h1><p class="page-description"></p></header><div class="page-body"><p class="" id="15a3b313-aef4-8031-a295-c6e3b9a6574c">
</p><script crossorigin="anonymous" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script><link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" referrerpolicy="no-referrer" rel="stylesheet"/><pre class="code" id="15a3b313-aef4-8096-9bbc-ca19170d23fd"><code class="language-JavaScript">ä½¿ç”¨unslothå¾®è°ƒllama3ï¼Œè¯·ç»™å‡ºå®Œæ•´ä»£ç 

ç”¨pythonå®ç°èµ›åšæœ‹å…‹é£æ ¼çš„è´ªåƒè›‡æ¸¸æˆ

ç”¨ Python å®ç°ä¸€ä¸ªç¨‹åºï¼Œåˆ¤æ–­ 32416190071 æ˜¯å¦æ˜¯ä¸€ä¸ªç´ æ•°ã€‚

how many 'r's in strawberrrry?</code></pre><script crossorigin="anonymous" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script><link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" referrerpolicy="no-referrer" rel="stylesheet"/><pre class="code" id="15a3b313-aef4-80d0-94cd-fcd3e891f018"><code class="language-JavaScript">ç”¨pythonå®ç°è®¡ç®—179424673æ˜¯ç¬¬å‡ ä¸ªè´¨æ•°ï¼Ÿä¸è¦å¼•å…¥å¤–éƒ¨åº“</code></pre><script crossorigin="anonymous" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script><link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" referrerpolicy="no-referrer" rel="stylesheet"/><pre class="code" id="15a3b313-aef4-8012-95b8-c63a3b711020"><code class="language-JavaScript">ç”¨ Python å®ç°ä¸€ä¸ªç¨‹åºï¼Œæ£€æŸ¥12345678910111213141516å’Œ1718192021222324252627æ˜¯å¦äº’è´¨ã€‚


###ç­”æ¡ˆï¼š
äº’è´¨</code></pre><p class="" id="15a3b313-aef4-8013-96e3-ea1a4462e5a3">
</p><h3 class="" id="15a3b313-aef4-803e-a68e-d1f27fd774b6">å®Œå…¨æ•°æ¢ç´¢ï¼š</h3><script crossorigin="anonymous" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script><link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" referrerpolicy="no-referrer" rel="stylesheet"/><pre class="code" id="15a3b313-aef4-80c3-85b2-cbd4da16e0ab"><code class="language-JavaScript">ç¼–å†™pythonç¨‹åºè§£å†³ä¸‹é¢çš„é¢˜ç›®ï¼š
å¦‚æœä¸€ä¸ªæ•°ç­‰äºå®ƒæ‰€æœ‰çœŸå› å­ï¼ˆé™¤äº†è‡ªèº«ä»¥å¤–çš„å› å­ï¼‰çš„å’Œï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°è¢«ç§°ä¸ºå®Œå…¨æ•°ã€‚ 
ä¾‹å¦‚ï¼š6=1+2+3æ˜¯å®Œå…¨æ•°ã€‚ æ±‚ç¬¬5ä¸ªå®Œå…¨æ•°çš„ä½æ•°ã€‚

###ç­”æ¡ˆï¼š
ç¬¬5ä¸ªå®Œå…¨æ•°æ˜¯: 33550336
å®ƒçš„ä½æ•°æ˜¯: 8

</code></pre><h3 class="" id="15a3b313-aef4-8006-8a00-e34781238c98">æ•°åˆ—æ¨¡å¼è¯†åˆ«é¢˜ï¼š</h3><script crossorigin="anonymous" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script><link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" referrerpolicy="no-referrer" rel="stylesheet"/><pre class="code" id="15a3b313-aef4-8022-b903-d2c710a82e94"><code class="language-JavaScript">å·²çŸ¥ä¸€ä¸ªç‰¹æ®Šçš„æ•°åˆ—ï¼Œç¬¬1é¡¹ä¸º1ï¼Œä»ç¬¬2é¡¹å¼€å§‹ï¼Œ
æ¯ä¸€é¡¹ç­‰äºå‰ä¸€é¡¹çš„å„ä½æ•°å­—çš„å¹³æ–¹å’Œï¼Œ
ç›´åˆ°æŸä¸€é¡¹é‡å¤å‡ºç°ä¸ºæ­¢ï¼Œå½¢æˆå¾ªç¯ã€‚
ç¼–å†™Pythonç¨‹åºè®¡ç®—ç¬¬2024é¡¹çš„å€¼ã€‚

#ç­”æ¡ˆæ˜¯1</code></pre><h3 class="" id="15a3b313-aef4-805e-99ee-f0ccde922e98">å¤§æ•°åˆ†è§£ä¸è´¨æ•°æ¢ç´¢é¢˜ï¼š</h3><script crossorigin="anonymous" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script><link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" referrerpolicy="no-referrer" rel="stylesheet"/><pre class="code" id="15a3b313-aef4-8010-b445-e4966f91e16b"><code class="language-JavaScript">
ç¼–å†™Pythonç¨‹åºï¼Œæ‰¾å‡ºåŒºé—´[10^12, 10^12 + 1000]å†…çš„æ‰€æœ‰å­ªç”Ÿè´¨æ•°å¯¹ã€‚
(å­ªç”Ÿè´¨æ•°æ˜¯æŒ‡å·®ä¸º2çš„ä¸¤ä¸ªè´¨æ•°ï¼Œå¦‚(3,5), (5,7), (11,13)ç­‰)


###ç­”æ¡ˆï¼š
åœ¨åŒºé—´[1000000000000, 1000000001000]å†…æ‰¾åˆ°4å¯¹å­ªç”Ÿè´¨æ•°ï¼š
1. (1000000000061, 1000000000063)
2. (1000000000331, 1000000000333)
3. (1000000000787, 1000000000789)
4. (1000000000931, 1000000000933)</code></pre><h3 class="" id="15a3b313-aef4-8067-98d1-dafe9fdc4075">ç®—æ³•æ€ç»´è½¬æ¢é¢˜ï¼š</h3><script crossorigin="anonymous" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script><link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" referrerpolicy="no-referrer" rel="stylesheet"/><pre class="code" id="15a3b313-aef4-806a-bb45-d5af3f00d5fc"><code class="language-JavaScript">å®šä¹‰ä¸€ä¸ªæ­£æ•´æ•°çš„"é•œåƒè´¨æ•°å¯¹"ï¼šå¦‚æœä¸€ä¸ªæ•°æ˜¯è´¨æ•°ï¼Œä¸”å°†å…¶åè¿›åˆ¶è¡¨ç¤ºå·¦å³ç¿»è½¬åå¾—åˆ°çš„æ•°ä¹Ÿæ˜¯è´¨æ•°ï¼Œåˆ™è¿™ä¸¤ä¸ªæ•°æ„æˆä¸€ä¸ªé•œåƒè´¨æ•°å¯¹ã€‚
ä¾‹å¦‚ï¼š13å’Œ31æ„æˆä¸€ä¸ªé•œåƒè´¨æ•°å¯¹ã€‚
è¯·ç¼–å†™ç¨‹åºæ‰¾å‡ºæ‰€æœ‰å°äº10^7çš„é•œåƒè´¨æ•°å¯¹çš„æ•°é‡ã€‚æ³¨æ„ï¼šä¸€ä¸ªæ•°çš„é•œåƒå¦‚æœç­‰äºè‡ªèº«ï¼Œåªèƒ½ç®—ä½œä¸€ä¸ªé•œåƒè´¨æ•°å¯¹ã€‚



###ç­”æ¡ˆï¼š
å°äº10000000çš„é•œåƒè´¨æ•°å¯¹æ•°é‡ä¸ºï¼š41610

å‰10ä¸ªé•œåƒè´¨æ•°å¯¹ç¤ºä¾‹ï¼š
2 &lt;-&gt; 2
3 &lt;-&gt; 3
5 &lt;-&gt; 5
7 &lt;-&gt; 7
11 &lt;-&gt; 11
13 &lt;-&gt; 31
17 &lt;-&gt; 71
37 &lt;-&gt; 73
79 &lt;-&gt; 97
101 &lt;-&gt; 101

å…¶ä¸­å›æ–‡è´¨æ•°çš„æ•°é‡ï¼š781</code></pre><h3 class="" id="15a3b313-aef4-8040-a3fc-d85d2d09fff8">ç»„åˆæ•°å­¦é¢˜ï¼š</h3><script crossorigin="anonymous" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script><link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" referrerpolicy="no-referrer" rel="stylesheet"/><pre class="code" id="15a3b313-aef4-809e-8b8d-c17b5d89b84d"><code class="language-JavaScript">ç¼–å†™Pythonç¨‹åºï¼Œæ‰¾å‡ºæ»¡è¶³ä»¥ä¸‹æ¡ä»¶çš„æœ€å°æ­£æ•´æ•°nï¼š
- nçš„åè¿›åˆ¶è¡¨ç¤ºæ°å¥½æœ‰2024ä½
- næ˜¯7çš„å€æ•°
- nçš„æ‰€æœ‰æ•°ä½éƒ½æ˜¯1æˆ–3

###ç­”æ¡ˆ
æ•°å­—æ˜¯: 11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111331
éªŒè¯:
ä½æ•°: 2024
æ˜¯7çš„å€æ•°: True
åªåŒ…å«1å’Œ3: True</code></pre><p class="" id="15a3b313-aef4-8074-b50f-debea927b4aa">
</p><h3 class="" id="15a3b313-aef4-80bc-8110-c05d9bb36ec2">å…ƒè®¤çŸ¥æ¨ç†éš¾é¢˜:</h3><script crossorigin="anonymous" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script><link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" referrerpolicy="no-referrer" rel="stylesheet"/><pre class="code" id="15a3b313-aef4-800b-b7d5-f3d7767e301a"><code class="language-JavaScript">ä¸‰ä½å“²å­¦å®¶å‚åŠ ä¸€ä¸ªå®éªŒ:
- å®éªŒè€…åœ¨æ¯äººèƒŒåè´´ä¸€ä¸ªæ•°å­—æ ‡ç­¾
- æ¯äººåªèƒ½çœ‹åˆ°å…¶ä»–äººçš„æ ‡ç­¾,çœ‹ä¸åˆ°è‡ªå·±çš„
- æ ‡ç­¾ä¸Šçš„æ•°å­—å¯èƒ½ç›¸åŒä¹Ÿå¯èƒ½ä¸åŒ
- å®éªŒè€…é—®:"ä½ èƒ½ç¡®å®šè‡ªå·±æ ‡ç­¾ä¸Šçš„æ•°å­—å—?"

ç¬¬ä¸€ä½å“²å­¦å®¶è¯´:"æˆ‘ä¸èƒ½ç¡®å®š"
ç¬¬äºŒä½å“²å­¦å®¶è¯´:"æˆ‘ä¹Ÿä¸èƒ½ç¡®å®š"
ç¬¬ä¸‰ä½å“²å­¦å®¶è¯´:"æˆ‘ç°åœ¨çŸ¥é“æˆ‘çš„æ•°å­—äº†"

å·²çŸ¥æ ‡ç­¾ä¸Šçš„æ•°å­—éƒ½æ˜¯1åˆ°5ä¹‹é—´çš„æ•´æ•°ã€‚
è¯·æ¨ç†ç¬¬ä¸‰ä½å“²å­¦å®¶çš„æ ‡ç­¾æ•°å­—æ˜¯å¤šå°‘ã€‚è¦æ±‚è¯¦ç»†è¯´æ˜æ¨ç†è¿‡ç¨‹ã€‚

###ç­”æ¡ˆï¼š3</code></pre><h3 class="" id="15a3b313-aef4-8027-932c-c84fa8cbc2c5">è“çœ¼ç›å’Œçº¢çœ¼ç›</h3><script crossorigin="anonymous" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script><link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" referrerpolicy="no-referrer" rel="stylesheet"/><pre class="code" id="15a3b313-aef4-809c-bc65-c0954fba8e80"><code class="language-JavaScript">ä¸€ä¸ªå²›ä¸Šæœ‰100ä¸ªäººï¼Œå…¶ä¸­95ä¸ªæ˜¯è“çœ¼ç›ï¼Œ5ä¸ªæ˜¯çº¢çœ¼ç›ã€‚å²›ä¸Šæœ‰ä¸‰ä¸ªå¥‡æ€ªçš„è§„åˆ™ï¼š
1. ä¸èƒ½é€šè¿‡é•œå­å’Œæ°´é¢æ¥çœ‹è‡ªå·±çœ¼ç›çš„é¢œè‰²ã€‚
2. ä¸èƒ½å‘Šè¯‰å¯¹æ–¹åˆ«äººçš„çœ¼ç›é¢œè‰²ã€‚
3. ä¸€æ—¦çŸ¥é“è‡ªå·±çœ¼ç›çš„é¢œè‰²ï¼Œå¿…é¡»åœ¨å½“å¤œç¦»å²›ã€‚
è™½ç„¶é¢˜è®¾è¯´æœ‰5ä¸ªçº¢çœ¼ç›ï¼Œä½†å²›æ°‘å¹¶ä¸çŸ¥é“ã€‚ 
ä¸€å¤©ï¼Œæœ‰ä¸€ä¸ªæ—…è¡Œè€…æ¥åˆ°å²›ä¸Šï¼Œå½“ç€æ‰€æœ‰äººçš„é¢ï¼Œ
ä¸ç•™ç¥è¯´äº†ä¸€å¥ï¼šä½ ä»¬è¿™é‡Œæœ‰çº¢çœ¼ç›çš„äººï¼Œå²›æ°‘éƒ½å¬åˆ°äº†è¿™å¥è¯ã€‚
å‡è®¾å²›æ°‘éƒ½æ˜¯èªæ˜äººï¼Œé—®è¿™ä¸ªå²›æ¥ä¸‹æ¥ä¼šå‘ç”Ÿä»€ä¹ˆäº‹æƒ…ï¼Ÿ






</code></pre><h3 class="" id="15a3b313-aef4-80c8-878b-f4d7125fd136">æç¤ºè¯éµå¾ªèƒ½åŠ›</h3><script crossorigin="anonymous" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script><link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" referrerpolicy="no-referrer" rel="stylesheet"/><pre class="code" id="15a3b313-aef4-8028-bcc0-d7394e532aad"><code class="language-JavaScript">You are an expert AI assistant tasked with providing thorough, step-by-step reasoning for complex problems or questions. Follow these guidelines:

1. For each step in your reasoning process:
   - Provide a clear, descriptive title
   - Explain your thought process in detail
   - Use markdown formatting for better readability

2. Use at least 3 different methods or approaches to analyze the problem

3. Include exploration of alternative answers and potential errors in your reasoning

4. Be aware of your limitations as a language model and explicitly state what you can and cannot do

5. When re-examining your reasoning, use a genuinely different approach

6. Apply best practices in problem-solving and critical thinking

7. Conclude with a final answer only when you've exhausted your analysis

8. Structure your response as follows:

```json
{
  "step": 1,
  "title": "Identifying Key Information",
  "content": "## Identifying Key Information\n\nTo begin solving this problem, we need to carefully examine the given information and identify the crucial elements that will guide our solution process. This involves...",
  "next_action": "continue"
}
```

9. For the final step, use "next_action": "final_answer" and include your conclusion

10. Strive for clarity, thoroughness, and intellectual honesty in your analysis

How many 'r's in strawberrrry?







</code></pre><h2 class="" id="15a3b313-aef4-808c-8732-e4e3f31366ed"><strong>ğŸ”¥ğŸ”¥ğŸ”¥å¦‚æœ‰é—®é¢˜ï¼Œè¯·è”ç³»æˆ‘çš„å¾½ä¿¡ stoeng</strong></h2><h2 class="" id="15a3b313-aef4-80f5-97b7-e46c8bbb2ff4"><strong>ğŸ”¥ğŸ”¥ğŸ”¥æœ¬é¡¹ç›®ä»£ç ç”±AIè¶…å…ƒåŸŸé¢‘é“åˆ¶ä½œï¼Œè§‚çœ‹æ›´å¤šå¤§æ¨¡å‹å¾®è°ƒè§†é¢‘è¯·è®¿é—®æˆ‘çš„é¢‘é“â¬‡</strong></h2><h3 class="" id="15a3b313-aef4-8029-bf55-d597597ce1ca"><strong>ğŸ‘‰ğŸ‘‰ğŸ‘‰</strong><strong><a href="https://space.bilibili.com/3493277319825652">æˆ‘çš„å“”å“©å“”å“©é¢‘é“</a></strong></h3><h3 class="" id="15a3b313-aef4-8024-b6f9-ed8b9377712d"><strong>ğŸ‘‰ğŸ‘‰ğŸ‘‰</strong><strong><a href="https://www.youtube.com/@AIsuperdomain">æˆ‘çš„YouTubeé¢‘é“</a></strong></h3><h3 class="" id="15a3b313-aef4-80fc-9097-fc4db7e3c004"><strong>ğŸ‘‰ğŸ‘‰ğŸ‘‰æˆ‘çš„å¼€æºé¡¹ç›® </strong><strong><a href="https://github.com/win4r/AISuperDomain">https://github.com/win4r/AISuperDomain</a></strong></h3><script crossorigin="anonymous" integrity="sha512-7Z9J3l1+EYfeaPKcGXu3MS/7T+w19WtKQY/n+xzmw4hZhJ9tyYmcUS+4QqAlzhicE5LAfMQSF3iFTK9bQdTxXg==" referrerpolicy="no-referrer" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script><link crossorigin="anonymous" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" integrity="sha512-tN7Ec6zAFaVSG3TpNAKtk4DOHNpSwKHxxrsiw4GHKESGPs5njn/0sMCUMl2svV4wo4BK/rCP7juYz+zx+l6oeQ==" referrerpolicy="no-referrer" rel="stylesheet"/><pre class="code" id="15a3b313-aef4-80c8-820b-f1dcc8ee88d5"><code class="language-JavaScript">import os
import pandas as pd
from datetime import datetime
from sqlalchemy import (
    create_engine,
    MetaData,
    Table,
    Column,
    String,
    Integer,
    Float,
    DateTime,
    ForeignKey,
    select,
    text
)
from llama_index.core import SQLDatabase
from llama_index.core.query_engine import NLSQLTableQueryEngine
from llama_index.llms.openai import OpenAI
from llama_index.llms.gemini import Gemini  


# åˆ›å»ºæ•°æ®åº“å¼•æ“å’Œå…ƒæ•°æ®å¯¹è±¡
engine = create_engine("sqlite:///:memory:")
metadata_obj = MetaData()

# åˆ›å»ºå‘˜å·¥è¡¨
employees_table = Table(
    "employees",
    metadata_obj,
    Column("employee_id", String(10), primary_key=True),
    Column("name", String(50)),
    Column("department", String(50)),
    Column("position", String(50)),
    Column("hire_date", DateTime),
    Column("salary", Float),
    Column("manager_id", String(10), ForeignKey("employees.employee_id"))
)

# åˆ›å»ºäº§å“è¡¨
products_table = Table(
    "products",
    metadata_obj,
    Column("product_id", String(10), primary_key=True),
    Column("name", String(100)),
    Column("category", String(50)),
    Column("unit_price", Float),
    Column("stock_quantity", Integer),
    Column("supplier", String(100))
)

# åˆ›å»ºè®¢å•è¡¨
orders_table = Table(
    "orders",
    metadata_obj,
    Column("order_id", String(20), primary_key=True),
    Column("customer_name", String(100)),
    Column("product_id", String(10), ForeignKey("products.product_id")),
    Column("employee_id", String(10), ForeignKey("employees.employee_id")),
    Column("order_date", DateTime),
    Column("quantity", Integer),
    Column("total_amount", Float),
    Column("status", String(20))
)

# åˆ›å»ºæ‰€æœ‰è¡¨
metadata_obj.create_all(engine)

def safe_read_csv(file_path, **kwargs):
    """å®‰å…¨åœ°è¯»å–CSVæ–‡ä»¶ï¼Œæ”¯æŒå¤šç§ç¼–ç å’Œé”™è¯¯å¤„ç†"""
    encodings = ['utf-8', 'gbk', 'gb2312', 'utf-8-sig']
    
    for encoding in encodings:
        try:
            df = pd.read_csv(file_path, encoding=encoding, **kwargs)
            return df
        except Exception as e:
            print(f"å°è¯•ä½¿ç”¨ {encoding} ç¼–ç : {str(e)}")
            continue
    raise ValueError(f"æ— æ³•è¯»å–æ–‡ä»¶ {file_path}")

def check_table_exists(table_name):
    """æ£€æŸ¥è¡¨æ˜¯å¦å­˜åœ¨ä¸”æœ‰æ•°æ®"""
    query = f"""
    SELECT COUNT(*) as count
    FROM {table_name}
    """
    try:
        with engine.connect() as conn:
            result = pd.read_sql(query, conn)
            return result['count'].iloc[0] &gt; 0
    except Exception:
        return False

def clear_table(table_name):
    """æ¸…ç©ºæŒ‡å®šè¡¨çš„æ‰€æœ‰æ•°æ®"""
    with engine.connect() as conn:
        conn.execute(text(f"DELETE FROM {table_name}"))
        conn.commit()

def load_sample_data():
    """åŠ è½½æ›´å¤šçš„ç¤ºä¾‹æ•°æ®åˆ°æ•°æ®åº“"""
    # ç¤ºä¾‹å‘˜å·¥æ•°æ®
    employees_data = [
        {
            "employee_id": "E001",
            "name": "å¼ ä¸‰",
            "department": "é”€å”®éƒ¨",
            "position": "é”€å”®ç»ç†",
            "hire_date": datetime(2020, 1, 15),
            "salary": 15000.0,
            "manager_id": None
        },
        {
            "employee_id": "E002",
            "name": "æå››",
            "department": "é”€å”®éƒ¨",
            "position": "é”€å”®ä»£è¡¨",
            "hire_date": datetime(2021, 3, 1),
            "salary": 8000.0,
            "manager_id": "E001"
        },
        {
            "employee_id": "E003",
            "name": "ç‹äº”",
            "department": "é”€å”®éƒ¨",
            "position": "é”€å”®ä»£è¡¨",
            "hire_date": datetime(2021, 6, 1),
            "salary": 8500.0,
            "manager_id": "E001"
        },
        {
            "employee_id": "E004",
            "name": "èµµå…­",
            "department": "å¸‚åœºéƒ¨",
            "position": "å¸‚åœºç»ç†",
            "hire_date": datetime(2020, 3, 15),
            "salary": 14000.0,
            "manager_id": None
        },
        {
            "employee_id": "E005",
            "name": "é’±ä¸ƒ",
            "department": "å¸‚åœºéƒ¨",
            "position": "å¸‚åœºä¸“å‘˜",
            "hire_date": datetime(2022, 1, 10),
            "salary": 7500.0,
            "manager_id": "E004"
        }
    ]
    
    # ç¤ºä¾‹äº§å“æ•°æ®
    products_data = [
        {
            "product_id": "P001",
            "name": "é«˜æ€§èƒ½ç¬”è®°æœ¬ç”µè„‘",
            "category": "ç”µå­äº§å“",
            "unit_price": 6999.0,
            "stock_quantity": 50,
            "supplier": "ç§‘æŠ€æœ‰é™å…¬å¸"
        },
        {
            "product_id": "P002",
            "name": "æ— çº¿è“ç‰™è€³æœº",
            "category": "é…ä»¶",
            "unit_price": 999.0,
            "stock_quantity": 500,
            "supplier": "éŸ³é¢‘ç§‘æŠ€å…¬å¸"
        },
        {
            "product_id": "P003",
            "name": "æ™ºèƒ½æ‰‹æœº",
            "category": "ç”µå­äº§å“",
            "unit_price": 4999.0,
            "stock_quantity": 200,
            "supplier": "ç§‘æŠ€æœ‰é™å…¬å¸"
        },
        {
            "product_id": "P004",
            "name": "æ˜¾ç¤ºå™¨",
            "category": "ç”µå­äº§å“",
            "unit_price": 2999.0,
            "stock_quantity": 80,
            "supplier": "æ˜¾ç¤ºæŠ€æœ¯å…¬å¸"
        },
        {
            "product_id": "P005",
            "name": "æœºæ¢°é”®ç›˜",
            "category": "é…ä»¶",
            "unit_price": 599.0,
            "stock_quantity": 300,
            "supplier": "å¤–è®¾ç§‘æŠ€å…¬å¸"
        }
    ]
    
    # ç”Ÿæˆæ›´å¤šçš„è®¢å•æ•°æ®
    orders_data = [
        {
            "order_id": "O20240101001",
            "customer_name": "é™ˆä¸€",
            "product_id": "P001",
            "employee_id": "E002",
            "order_date": datetime(2024, 1, 1),
            "quantity": 2,
            "total_amount": 13998.0,
            "status": "å·²å®Œæˆ"
        },
        {
            "order_id": "O20240102001",
            "customer_name": "åˆ˜äºŒ",
            "product_id": "P002",
            "employee_id": "E002",
            "order_date": datetime(2024, 1, 2),
            "quantity": 5,
            "total_amount": 4995.0,
            "status": "å·²å®Œæˆ"
        },
        {
            "order_id": "O20240115001",
            "customer_name": "å¼ æ˜",
            "product_id": "P003",
            "employee_id": "E003",
            "order_date": datetime(2024, 1, 15),
            "quantity": 3,
            "total_amount": 14997.0,
            "status": "å·²å®Œæˆ"
        },
        {
            "order_id": "O20240120001",
            "customer_name": "ææ˜",
            "product_id": "P001",
            "employee_id": "E003",
            "order_date": datetime(2024, 1, 20),
            "quantity": 1,
            "total_amount": 6999.0,
            "status": "å·²å®Œæˆ"
        },
        {
            "order_id": "O20240125001",
            "customer_name": "ç‹æµ·",
            "product_id": "P004",
            "employee_id": "E002",
            "order_date": datetime(2024, 1, 25),
            "quantity": 4,
            "total_amount": 11996.0,
            "status": "å¤„ç†ä¸­"
        }
    ]
    
    # å°†æ•°æ®è½¬æ¢ä¸ºDataFrameå¹¶å¯¼å…¥æ•°æ®åº“
    employees_df = pd.DataFrame(employees_data)
    products_df = pd.DataFrame(products_data)
    orders_df = pd.DataFrame(orders_data)
    
    employees_df.to_sql('employees', engine, if_exists='append', index=False)
    products_df.to_sql('products', engine, if_exists='append', index=False)
    orders_df.to_sql('orders', engine, if_exists='append', index=False)
    
    print("ç¤ºä¾‹æ•°æ®åŠ è½½æˆåŠŸï¼")


def setup_query_engine():
    """è®¾ç½®æŸ¥è¯¢å¼•æ“ï¼Œæ·»åŠ è¡¨å…³ç³»æè¿°"""
    sql_database = SQLDatabase(engine, include_tables=["employees", "products", "orders"])
    
    # å®šä¹‰è¡¨å…³ç³»å’Œä¸šåŠ¡å«ä¹‰
    table_context = """
    è¡¨å…³ç³»è¯´æ˜ï¼š
    1. employees(å‘˜å·¥è¡¨):
       - employee_id: å‘˜å·¥IDï¼Œä¸»é”®
       - manager_id: ä¸Šçº§ä¸»ç®¡IDï¼Œå…³è”employee_id
       - å…¶ä»–å­—æ®µï¼šname(å§“å), department(éƒ¨é—¨), position(èŒä½), hire_date(å…¥èŒæ—¥æœŸ), salary(è–ªèµ„)
    
    2. products(äº§å“è¡¨):
       - product_id: äº§å“IDï¼Œä¸»é”®
       - å…¶ä»–å­—æ®µï¼šname(äº§å“å), category(ç±»åˆ«), unit_price(å•ä»·), stock_quantity(åº“å­˜), supplier(ä¾›åº”å•†)
    
    3. orders(è®¢å•è¡¨):
       - order_id: è®¢å•IDï¼Œä¸»é”®
       - product_id: äº§å“IDï¼Œå…³è”productsè¡¨
       - employee_id: é”€å”®å‘˜å·¥IDï¼Œå…³è”employeesè¡¨
       - å…¶ä»–å­—æ®µï¼šcustomer_name(å®¢æˆ·å), order_date(è®¢å•æ—¥æœŸ), quantity(æ•°é‡), total_amount(æ€»é‡‘é¢), status(çŠ¶æ€)
    
    å…³è”å…³ç³»ï¼š
    - orders.employee_id å…³è” employees.employee_id (è®¢å•ä¸é”€å”®å‘˜å·¥å…³ç³»)
    - orders.product_id å…³è” products.product_id (è®¢å•ä¸äº§å“å…³ç³»)
    - employees.manager_id å…³è” employees.employee_id (å‘˜å·¥ä¸ä¸»ç®¡å…³ç³»)
    """

    llm = Gemini(temperature=0.1,  model="models/gemini-exp-1206",)  # å¯ä»¥æ ¹æ®éœ€è¦æ›´æ”¹æ¨¡å‹
    # llm = OpenAI(temperature=0.1, model="gpt-4")

    query_engine = NLSQLTableQueryEngine(
        sql_database=sql_database,
        tables=["employees", "products", "orders"],
        llm=llm,
        table_context=table_context
    )

    return query_engine

def run_complex_queries():
    """æ‰§è¡Œå¤æ‚çš„å¤šè¡¨è”åŠ¨æŸ¥è¯¢ç¤ºä¾‹"""
    query_engine = setup_query_engine()
    
    # æ›´æ–°åçš„å¤šè¡¨è”åŠ¨æŸ¥è¯¢ç¤ºä¾‹
    complex_queries = [
        # é”€å”®ä¸šç»©åˆ†æï¼ˆæ˜ç¡®åŒºåˆ†employeeè¡¨çš„è‡ªå…³è”ï¼‰
        """åˆ†ææ¯ä¸ªé”€å”®å‘˜ï¼ˆemployeesè¡¨ï¼‰çš„ä¸šç»©ï¼Œæ˜¾ç¤ºä»–ä»¬çš„å§“åã€
           æ‰€å±éƒ¨é—¨ã€ä¸»ç®¡å§“åï¼ˆé€šè¿‡manager_idå…³è”æŸ¥è¯¢ï¼‰ï¼Œ
           ä»¥åŠè´Ÿè´£çš„è®¢å•æ•°é‡å’Œæ€»é”€å”®é¢ï¼ˆé€šè¿‡ordersè¡¨å…³è”ï¼‰""",
        
        # äº§å“é”€å”®è¶‹åŠ¿ï¼ˆæ˜ç¡®æ—¶é—´èŒƒå›´ï¼‰
        """åˆ†æ2024å¹´1æœˆçš„äº§å“é”€å”®æƒ…å†µï¼ŒæŒ‰äº§å“ç±»åˆ«ç»Ÿè®¡
           é”€å”®é¢ã€é”€å”®æ•°é‡ï¼Œå¹¶æ˜¾ç¤ºè´Ÿè´£é”€å”®çš„å‘˜å·¥äººæ•°""",
        
        # éƒ¨é—¨ç»©æ•ˆåˆ†æï¼ˆåŠ å…¥æ›´å¤šç»´åº¦ï¼‰
        """ç»Ÿè®¡é”€å”®éƒ¨çš„æ•´ä½“è¡¨ç°ï¼ŒåŒ…æ‹¬ï¼š
           1. éƒ¨é—¨æ€»é”€å”®é¢
           2. æ¯ä¸ªé”€å”®å‘˜çš„å¹³å‡è®¢å•é‡‘é¢
           3. æŒ‰äº§å“ç±»åˆ«ç»Ÿè®¡çš„é”€å”®åˆ†å¸ƒ""",
        
        # é«˜ä»·å€¼å®¢æˆ·åˆ†æï¼ˆé¿å…åˆ—åæ­§ä¹‰ï¼‰
        """æŸ¥æ‰¾è®¢å•æ€»é‡‘é¢è¶…è¿‡10000å…ƒçš„å®¢æˆ·ä¿¡æ¯ï¼Œæ˜¾ç¤ºï¼š
           1. å®¢æˆ·å§“å
           2. è´­ä¹°çš„äº§å“åç§°å’Œç±»åˆ«
           3. è´Ÿè´£é”€å”®çš„å‘˜å·¥å§“åå’Œéƒ¨é—¨""",
        
        # åº“å­˜é¢„è­¦åˆ†æ
        """åˆ†æåº“å­˜é‡ä½äº100çš„äº§å“çš„é”€å”®æƒ…å†µï¼Œæ˜¾ç¤ºï¼š
           1. äº§å“åç§°å’Œå½“å‰åº“å­˜
           2. æœ€è¿‘çš„é”€å”®è®°å½•
           3. è´Ÿè´£é”€å”®çš„å‘˜å·¥ä¿¡æ¯"""
    ]

    for query in complex_queries:
        try:
            print("\næ‰§è¡ŒæŸ¥è¯¢:", query)
            response = query_engine.query(query)
            print("æŸ¥è¯¢ç»“æœ:", response)
            print("\n" + "="*50)
        except Exception as e:
            print(f"æŸ¥è¯¢æ‰§è¡Œé”™è¯¯: {str(e)}")


# ç¤ºä¾‹SQLå®ç°ï¼ˆç”¨äºå‚è€ƒï¼‰
complex_sql_examples = {
    "é”€å”®ä¸šç»©åˆ†æ": """
    SELECT 
        e.name as employee_name,
        e.department,
        m.name as manager_name,
        COUNT(o.order_id) as order_count,
        SUM(o.total_amount) as total_sales
    FROM employees e
    LEFT JOIN employees m ON e.manager_id = m.employee_id
    LEFT JOIN orders o ON e.employee_id = o.employee_id
    GROUP BY e.employee_id, e.name, e.department, m.name
    """,
    
    "äº§å“ç±»åˆ«é”€å”®è¶‹åŠ¿": """
    SELECT 
        p.category,
        DATE_FORMAT(o.order_date, '%Y-%m') as month,
        SUM(o.total_amount) as monthly_sales,
        SUM(o.quantity) as total_quantity,
        COUNT(DISTINCT o.employee_id) as sales_staff_count
    FROM products p
    JOIN orders o ON p.product_id = o.product_id
    WHERE o.order_date &gt;= DATE_SUB(NOW(), INTERVAL 3 MONTH)
    GROUP BY p.category, DATE_FORMAT(o.order_date, '%Y-%m')
    ORDER BY p.category, month
    """,
    
    "éƒ¨é—¨é”€å”®ç»©æ•ˆ": """
    SELECT 
        e.department,
        SUM(o.total_amount) as total_sales,
        AVG(o.total_amount) as avg_order_amount,
        COUNT(o.order_id) / COUNT(DISTINCT e.employee_id) as avg_orders_per_employee
    FROM employees e
    LEFT JOIN orders o ON e.employee_id = o.employee_id
    GROUP BY e.department
    """
}

def main():
    try:
        # è®¾ç½® OpenAI API å¯†é’¥
        # os.environ["OPENAI_API_KEY"] = userdata.get('OPENAI_API_KEY')
        os.environ["GEMINI_API_KEY"] = userdata.get('GEMINI_API_KEY')
        # åŠ è½½ç¤ºä¾‹æ•°æ®
        load_sample_data()

        # è¿è¡Œå¤æ‚æŸ¥è¯¢ç¤ºä¾‹
        run_complex_queries()

    except Exception as e:
        print(f"ä¸»ç¨‹åºé”™è¯¯: {str(e)}")

if __name__ == "__main__":
    main()</code></pre></div></article><span class="sans" style="font-size:14px;padding-top:2em"></span></body></html>

<!-- 100% privacy-first analytics -->
<script async src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
